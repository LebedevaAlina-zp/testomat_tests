[pytest]
testpaths = tests/web
python_files = test_*.py *_test.py *_tests.py
python_functions = test_*
norecursedirs = .git .venv .idea __pycache__ build dist

addopts =
# Verbose output: show each test name and its result
  -v
# Show extra summary info for skipped, failed, xfailed, etc.
  -ra
# Fail if unknown markers are used (helps avoid typos)
  --strict-markers
# Use short traceback format (less noise, easier to read)
  --tb=short
# Run Playwright tests in headed (visible browser) mode
  --headed
# Enable Playwright tracing (useful for debugging failed tests)
  --tracing=on
# Take screenshots on test failure
  --screenshot=on
# Directory for Playwright trace files
  --output=test-result/traces
# Path for reports generated by pytest-html plugin
  --html=test-result/report.html
# Embeds CSS/JS in HTML report (single file, no external dependencies)
  --self-contained-html

# Playwright base URL - used as default for page.goto() relative paths, also can be defined in browser_context_args fixture
;base_url = https://app.testomat.io

# Custom markers to categorize tests
markers =
  smoke: Quick smoke tests for basic functionality
  regression: Full regression test suite
  web: Web UI tests using Playwright
  slow: Tests that take longer to execute

# Shows progress bar/dots during test run
console_output_style = progress

# Enables live logging to console during test run
log_cli = true

log_cli_level = INFO

log_cli_format = %(asctime)s [%(levelname)s] %(message)s

log_cli_date_format = %y-%m-%d %H:%M:%S